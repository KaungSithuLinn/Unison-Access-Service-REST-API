[2025-09-10 17:38:48.937 +08:00 INF]  Program: Unison REST Adapter service started successfully on port 5203 {"MachineName":"ACT-LAP-59","ProcessId":16616,"ThreadId":2,"EnvironmentName":"Development","ApplicationName":"UnisonRestAdapter","Environment":"Development","Version":"1.0.0"}
[2025-09-10 17:38:49.179 +08:00 ERR]  Microsoft.Extensions.Hosting.Internal.Host: Hosting failed to start {"EventId":{"Id":11,"Name":"HostedServiceStartupFaulted"},"MachineName":"ACT-LAP-59","ProcessId":16616,"ThreadId":2,"EnvironmentName":"Development","ApplicationName":"UnisonRestAdapter","Environment":"Development","Version":"1.0.0"}
System.IO.IOException: Failed to bind to address http://127.0.0.1:5203: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
[2025-09-10 17:38:49.254 +08:00 FTL]  : Application terminated unexpectedly {"MachineName":"ACT-LAP-59","ProcessId":16616,"ThreadId":2,"EnvironmentName":"Development","ApplicationName":"UnisonRestAdapter","Environment":"Development","Version":"1.0.0"}
System.IO.IOException: Failed to bind to address http://127.0.0.1:5203: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)
   at Program.<Main>$(String[] args) in C:\Projects\Unison Access Service REST API\UnisonRestAdapter\Program.cs:line 272
[2025-09-10 17:39:20.296 +08:00 INF]  Program: Unison REST Adapter service started successfully on port 5203 {"MachineName":"ACT-LAP-59","ProcessId":5764,"ThreadId":2,"EnvironmentName":"Development","ApplicationName":"UnisonRestAdapter","Environment":"Development","Version":"1.0.0"}
[2025-09-10 17:39:20.516 +08:00 INF]  Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5204 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"MachineName":"ACT-LAP-59","ProcessId":5764,"ThreadId":2,"EnvironmentName":"Development","ApplicationName":"UnisonRestAdapter","Environment":"Development","Version":"1.0.0"}
[2025-09-10 17:39:20.616 +08:00 INF]  Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"MachineName":"ACT-LAP-59","ProcessId":5764,"ThreadId":2,"EnvironmentName":"Development","ApplicationName":"UnisonRestAdapter","Environment":"Development","Version":"1.0.0"}
[2025-09-10 17:39:20.638 +08:00 INF]  Microsoft.Hosting.Lifetime: Hosting environment: Development {"MachineName":"ACT-LAP-59","ProcessId":5764,"ThreadId":2,"EnvironmentName":"Development","ApplicationName":"UnisonRestAdapter","Environment":"Development","Version":"1.0.0"}
[2025-09-10 17:39:20.654 +08:00 INF]  Microsoft.Hosting.Lifetime: Content root path: C:\Projects\Unison Access Service REST API\UnisonRestAdapter {"MachineName":"ACT-LAP-59","ProcessId":5764,"ThreadId":2,"EnvironmentName":"Development","ApplicationName":"UnisonRestAdapter","Environment":"Development","Version":"1.0.0"}
[2025-09-10 17:39:42.320 +08:00 INF]  Microsoft.Hosting.Lifetime: Application is shutting down... {"MachineName":"ACT-LAP-59","ProcessId":5764,"ThreadId":10,"EnvironmentName":"Development","ApplicationName":"UnisonRestAdapter","Environment":"Development","Version":"1.0.0"}
[2025-09-10 17:39:42.454 +08:00 INF]  Program: Unison REST Adapter service stopping {"MachineName":"ACT-LAP-59","ProcessId":5764,"ThreadId":10,"EnvironmentName":"Development","ApplicationName":"UnisonRestAdapter","Environment":"Development","Version":"1.0.0"}
[2025-09-10 17:40:00.681 +08:00 INF]  Program: Unison REST Adapter service started successfully on port 5203 {"MachineName":"ACT-LAP-59","ProcessId":23360,"ThreadId":2,"EnvironmentName":"Development","ApplicationName":"UnisonRestAdapter","Environment":"Development","Version":"1.0.0"}
[2025-09-10 17:40:00.964 +08:00 INF]  Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5204 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"MachineName":"ACT-LAP-59","ProcessId":23360,"ThreadId":2,"EnvironmentName":"Development","ApplicationName":"UnisonRestAdapter","Environment":"Development","Version":"1.0.0"}
[2025-09-10 17:40:00.991 +08:00 INF]  Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down. {"MachineName":"ACT-LAP-59","ProcessId":23360,"ThreadId":2,"EnvironmentName":"Development","ApplicationName":"UnisonRestAdapter","Environment":"Development","Version":"1.0.0"}
[2025-09-10 17:40:01.012 +08:00 INF]  Microsoft.Hosting.Lifetime: Hosting environment: Development {"MachineName":"ACT-LAP-59","ProcessId":23360,"ThreadId":2,"EnvironmentName":"Development","ApplicationName":"UnisonRestAdapter","Environment":"Development","Version":"1.0.0"}
[2025-09-10 17:40:01.032 +08:00 INF]  Microsoft.Hosting.Lifetime: Content root path: C:\Projects\Unison Access Service REST API\UnisonRestAdapter {"MachineName":"ACT-LAP-59","ProcessId":23360,"ThreadId":2,"EnvironmentName":"Development","ApplicationName":"UnisonRestAdapter","Environment":"Development","Version":"1.0.0"}
[2025-09-10 17:40:04.158 +08:00 INF]  Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 HEAD http://localhost:5204/health - null null {"EventId":{"Id":1},"RequestId":"0HNFG9O2HP2LD:00000001","RequestPath":"/health","ConnectionId":"0HNFG9O2HP2LD","MachineName":"ACT-LAP-59","ProcessId":23360,"ThreadId":7,"EnvironmentName":"Development","ApplicationName":"UnisonRestAdapter","Environment":"Development","Version":"1.0.0"}
[2025-09-10 17:40:04.358 +08:00 DBG]  UnisonRestAdapter.Security.SecurityHeadersMiddleware: Security headers added to response for /health {"RequestId":"0HNFG9O2HP2LD:00000001","ConnectionId":"0HNFG9O2HP2LD","MachineName":"ACT-LAP-59","ProcessId":23360,"ThreadId":7,"EnvironmentName":"Development","ApplicationName":"UnisonRestAdapter","Environment":"Development","Version":"1.0.0"}
[2025-09-10 17:40:04.448 +08:00 WRN]  UnisonRestAdapter.Security.RequestValidationMiddleware: Malicious pattern detected in header Accept: */* {"RequestId":"0HNFG9O2HP2LD:00000001","RequestPath":"/health","ConnectionId":"0HNFG9O2HP2LD","MachineName":"ACT-LAP-59","ProcessId":23360,"ThreadId":7,"EnvironmentName":"Development","ApplicationName":"UnisonRestAdapter","Environment":"Development","Version":"1.0.0"}
[2025-09-10 17:40:04.503 +08:00 INF]  Serilog.AspNetCore.RequestLoggingMiddleware: HTTP HEAD /health responded 400 in 215.3951 ms {"RequestHost":"localhost:5204","RequestScheme":"http","UserAgent":"curl/8.14.1","RemoteIpAddress":"::1","RequestId":"0HNFG9O2HP2LD:00000001","ConnectionId":"0HNFG9O2HP2LD","MachineName":"ACT-LAP-59","ProcessId":23360,"ThreadId":7,"EnvironmentName":"Development","ApplicationName":"UnisonRestAdapter","Environment":"Development","Version":"1.0.0"}
[2025-09-10 17:40:04.568 +08:00 INF]  Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 HEAD http://localhost:5204/health - 400 null null 416.6019ms {"EventId":{"Id":2},"RequestId":"0HNFG9O2HP2LD:00000001","RequestPath":"/health","ConnectionId":"0HNFG9O2HP2LD","MachineName":"ACT-LAP-59","ProcessId":23360,"ThreadId":7,"EnvironmentName":"Development","ApplicationName":"UnisonRestAdapter","Environment":"Development","Version":"1.0.0"}
[2025-09-10 17:40:14.643 +08:00 INF]  Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 HEAD http://localhost:5204/health - null null {"EventId":{"Id":1},"RequestId":"0HNFG9O2HP2LE:00000001","RequestPath":"/health","ConnectionId":"0HNFG9O2HP2LE","MachineName":"ACT-LAP-59","ProcessId":23360,"ThreadId":9,"EnvironmentName":"Development","ApplicationName":"UnisonRestAdapter","Environment":"Development","Version":"1.0.0"}
[2025-09-10 17:40:14.661 +08:00 DBG]  UnisonRestAdapter.Security.SecurityHeadersMiddleware: Security headers added to response for /health {"RequestId":"0HNFG9O2HP2LE:00000001","ConnectionId":"0HNFG9O2HP2LE","MachineName":"ACT-LAP-59","ProcessId":23360,"ThreadId":9,"EnvironmentName":"Development","ApplicationName":"UnisonRestAdapter","Environment":"Development","Version":"1.0.0"}
[2025-09-10 17:40:14.675 +08:00 WRN]  UnisonRestAdapter.Security.RequestValidationMiddleware: Malicious pattern detected in header Accept: */* {"RequestId":"0HNFG9O2HP2LE:00000001","RequestPath":"/health","ConnectionId":"0HNFG9O2HP2LE","MachineName":"ACT-LAP-59","ProcessId":23360,"ThreadId":9,"EnvironmentName":"Development","ApplicationName":"UnisonRestAdapter","Environment":"Development","Version":"1.0.0"}
[2025-09-10 17:40:14.750 +08:00 INF]  Serilog.AspNetCore.RequestLoggingMiddleware: HTTP HEAD /health responded 400 in 89.8962 ms {"RequestHost":"localhost:5204","RequestScheme":"http","UserAgent":"curl/8.14.1","RemoteIpAddress":"::1","RequestId":"0HNFG9O2HP2LE:00000001","ConnectionId":"0HNFG9O2HP2LE","MachineName":"ACT-LAP-59","ProcessId":23360,"ThreadId":9,"EnvironmentName":"Development","ApplicationName":"UnisonRestAdapter","Environment":"Development","Version":"1.0.0"}
[2025-09-10 17:40:14.790 +08:00 INF]  Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 HEAD http://localhost:5204/health - 400 null null 146.9069ms {"EventId":{"Id":2},"RequestId":"0HNFG9O2HP2LE:00000001","RequestPath":"/health","ConnectionId":"0HNFG9O2HP2LE","MachineName":"ACT-LAP-59","ProcessId":23360,"ThreadId":9,"EnvironmentName":"Development","ApplicationName":"UnisonRestAdapter","Environment":"Development","Version":"1.0.0"}
[2025-09-10 17:40:51.483 +08:00 INF]  Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 HEAD http://localhost:5204/swagger - null null {"EventId":{"Id":1},"RequestId":"0HNFG9O2HP2LG:00000001","RequestPath":"/swagger","ConnectionId":"0HNFG9O2HP2LG","MachineName":"ACT-LAP-59","ProcessId":23360,"ThreadId":12,"EnvironmentName":"Development","ApplicationName":"UnisonRestAdapter","Environment":"Development","Version":"1.0.0"}
[2025-09-10 17:40:51.509 +08:00 DBG]  UnisonRestAdapter.Security.SecurityHeadersMiddleware: Security headers added to response for /swagger {"RequestId":"0HNFG9O2HP2LG:00000001","ConnectionId":"0HNFG9O2HP2LG","MachineName":"ACT-LAP-59","ProcessId":23360,"ThreadId":12,"EnvironmentName":"Development","ApplicationName":"UnisonRestAdapter","Environment":"Development","Version":"1.0.0"}
[2025-09-10 17:40:51.529 +08:00 WRN]  UnisonRestAdapter.Security.RequestValidationMiddleware: Malicious pattern detected in header Accept: */* {"RequestId":"0HNFG9O2HP2LG:00000001","RequestPath":"/swagger","ConnectionId":"0HNFG9O2HP2LG","MachineName":"ACT-LAP-59","ProcessId":23360,"ThreadId":12,"EnvironmentName":"Development","ApplicationName":"UnisonRestAdapter","Environment":"Development","Version":"1.0.0"}
[2025-09-10 17:40:51.591 +08:00 INF]  Serilog.AspNetCore.RequestLoggingMiddleware: HTTP HEAD /swagger responded 400 in 84.7289 ms {"RequestHost":"localhost:5204","RequestScheme":"http","UserAgent":"curl/8.14.1","RemoteIpAddress":"::1","RequestId":"0HNFG9O2HP2LG:00000001","ConnectionId":"0HNFG9O2HP2LG","MachineName":"ACT-LAP-59","ProcessId":23360,"ThreadId":12,"EnvironmentName":"Development","ApplicationName":"UnisonRestAdapter","Environment":"Development","Version":"1.0.0"}
[2025-09-10 17:40:51.630 +08:00 INF]  Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 HEAD http://localhost:5204/swagger - 400 null null 146.9583ms {"EventId":{"Id":2},"RequestId":"0HNFG9O2HP2LG:00000001","RequestPath":"/swagger","ConnectionId":"0HNFG9O2HP2LG","MachineName":"ACT-LAP-59","ProcessId":23360,"ThreadId":12,"EnvironmentName":"Development","ApplicationName":"UnisonRestAdapter","Environment":"Development","Version":"1.0.0"}
[2025-09-10 17:41:05.369 +08:00 INF]  Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5204/api/users/updatecard - application/json 46 {"EventId":{"Id":1},"RequestId":"0HNFG9O2HP2LH:00000001","RequestPath":"/api/users/updatecard","ConnectionId":"0HNFG9O2HP2LH","MachineName":"ACT-LAP-59","ProcessId":23360,"ThreadId":14,"EnvironmentName":"Development","ApplicationName":"UnisonRestAdapter","Environment":"Development","Version":"1.0.0"}
[2025-09-10 17:41:05.390 +08:00 DBG]  UnisonRestAdapter.Security.SecurityHeadersMiddleware: Security headers added to response for /api/users/updatecard {"RequestId":"0HNFG9O2HP2LH:00000001","ConnectionId":"0HNFG9O2HP2LH","MachineName":"ACT-LAP-59","ProcessId":23360,"ThreadId":14,"EnvironmentName":"Development","ApplicationName":"UnisonRestAdapter","Environment":"Development","Version":"1.0.0"}
[2025-09-10 17:41:05.426 +08:00 WRN]  UnisonRestAdapter.Security.RequestValidationMiddleware: Malicious pattern detected in header Accept: */* {"RequestId":"0HNFG9O2HP2LH:00000001","RequestPath":"/api/users/updatecard","ConnectionId":"0HNFG9O2HP2LH","MachineName":"ACT-LAP-59","ProcessId":23360,"ThreadId":14,"EnvironmentName":"Development","ApplicationName":"UnisonRestAdapter","Environment":"Development","Version":"1.0.0"}
[2025-09-10 17:41:05.481 +08:00 INF]  Serilog.AspNetCore.RequestLoggingMiddleware: HTTP POST /api/users/updatecard responded 400 in 90.4123 ms {"RequestHost":"localhost:5204","RequestScheme":"http","UserAgent":"curl/8.14.1","RemoteIpAddress":"::1","RequestId":"0HNFG9O2HP2LH:00000001","ConnectionId":"0HNFG9O2HP2LH","MachineName":"ACT-LAP-59","ProcessId":23360,"ThreadId":14,"EnvironmentName":"Development","ApplicationName":"UnisonRestAdapter","Environment":"Development","Version":"1.0.0"}
[2025-09-10 17:41:05.527 +08:00 INF]  Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5204/api/users/updatecard - 400 null null 156.9944ms {"EventId":{"Id":2},"RequestId":"0HNFG9O2HP2LH:00000001","RequestPath":"/api/users/updatecard","ConnectionId":"0HNFG9O2HP2LH","MachineName":"ACT-LAP-59","ProcessId":23360,"ThreadId":14,"EnvironmentName":"Development","ApplicationName":"UnisonRestAdapter","Environment":"Development","Version":"1.0.0"}
